{"version":3,"sources":["script.js"],"names":["displayIntervalID","container","document","querySelector","buttonsWrapper","playButton","pauseButton","nextButton","previousButton","elementsWrapper","elements","querySelectorAll","width","getElementWidth","scrollSpeed","setScrollSpeed","displayInterval","parseInt","getAttribute","elementCount","length","window","addEventListener","scrollLeft","setInterval","handleNextElement","classList","add","remove","clearInterval","handlePreviousElement","style","opacity","currentElementIndex","scrollElement","setTimeout","appendChild","mod","insertBefore","firstChild","elementToScroll","scrollVelocity","scrollMagnitude","scrolled","intervalID","Math","abs","x","n","element","clientWidth"],"mappings":";AAAA,IAsBIA,EAtBEC,EAAYC,SAASC,cAAc,sBACnCC,EAAiBF,SAASC,cAAc,4BACxCE,EAAaH,SAASC,cAAc,wBACpCG,EAAcJ,SAASC,cAAc,yBACrCI,EAAaL,SAASC,cAAc,wBACpCK,EAAiBN,SAASC,cAAc,4BACxCM,EAAkBP,SAASC,cAAc,6BACzCO,EAAWR,SAASS,iBAAiB,oBAEvCC,EAAQC,EAAgBZ,GACxBa,EAAcC,EAAeH,GAC3BI,EAAkBC,SAAShB,EAAUiB,aAAa,kBAClDC,EAAeT,EAASU,OAI9BC,OAAOC,iBAAiB,SAAU,WAEhCP,EADAH,EAAQC,EAAgBZ,IAExBQ,EAAgBc,WAAa,IAI/BlB,EAAWiB,iBAAiB,QAAS,WACnCtB,EAAoBwB,YAAYC,EAAmBT,GACnDX,EAAWqB,UAAUC,IAAI,yBACzBrB,EAAYoB,UAAUE,OAAO,2BAG/BtB,EAAYgB,iBAAiB,QAAS,WACpCO,cAAc7B,GACdK,EAAWqB,UAAUE,OAAO,yBAC5BtB,EAAYoB,UAAUC,IAAI,2BAG5BpB,EAAWe,iBAAiB,QAASG,GACrCjB,EAAec,iBAAiB,QAASQ,GAEzC7B,EAAUqB,iBACR,YACA,WAAOlB,OAAAA,EAAe2B,MAAMC,QAAU,IAGxC/B,EAAUqB,iBACR,WACA,WAAOlB,OAAAA,EAAe2B,MAAMC,QAAU,IAKxC,IAAIC,EAAsB,EAE1B,SAASR,IACPS,EAAczB,EAAiBK,EAAaF,GAC5CuB,WAAW,WACT1B,EAAgB2B,YAAY1B,EAASuB,IACrCA,GAAuBA,EAAsB,GAAKd,EAClDV,EAAgBc,YAAcX,GAC7BA,GAGL,SAASkB,IACPG,EAAsBI,EAAIJ,EAAsB,EAAGd,GACnDV,EAAgB6B,aACd5B,EAASuB,GACTxB,EAAgB8B,YAElB9B,EAAgBc,YAAcX,EAC9BsB,EAAczB,GAAkBK,EAAaF,GAG/C,SAASsB,EAAcM,EAAiBC,EAAgBC,GAClDC,IAAAA,EAAW,EACTC,EAAavB,OAAOG,YAAY,WACpCgB,EAAgBjB,YAAckB,GAC9BE,GAAYE,KAAKC,IAAIL,KACLC,GACdrB,OAAOQ,cAAce,IAEtB,IAWL,IAAMP,EAAM,SAACU,EAAGC,GAAM,OAAED,EAAIC,EAAKA,GAAKA,GAEtC,SAASnC,EAAgBoC,GAChBA,OAAAA,EAAQC,YAGjB,SAASnC,EAAeH,GACfA,OAAAA,EAAQ,IAAM,GAAK","file":"script.0326f193.js","sourceRoot":"../src","sourcesContent":["const container = document.querySelector(\".framify-container\");\nconst buttonsWrapper = document.querySelector(\".framify-buttons-wrapper\");\nconst playButton = document.querySelector(\".framify-button-play\");\nconst pauseButton = document.querySelector(\".framify-button-pause\");\nconst nextButton = document.querySelector(\".framify-button-next\");\nconst previousButton = document.querySelector(\".framify-button-previous\");\nconst elementsWrapper = document.querySelector(\".framify-elements-wrapper\");\nconst elements = document.querySelectorAll(\".framify-element\");\n\nlet width = getElementWidth(container);\nlet scrollSpeed = setScrollSpeed(width);\nconst displayInterval = parseInt(container.getAttribute(\"data-interval\"));\nconst elementCount = elements.length;\n\n/* Event Listeners */\n\nwindow.addEventListener(\"resize\", () => {\n  width = getElementWidth(container);\n  setScrollSpeed(width);\n  elementsWrapper.scrollLeft = 0;\n});\n\nlet displayIntervalID;\nplayButton.addEventListener(\"click\", () => {\n  displayIntervalID = setInterval(handleNextElement, displayInterval);\n  playButton.classList.add(\"framify-button-hidden\");\n  pauseButton.classList.remove(\"framify-button-hidden\");\n});\n\npauseButton.addEventListener(\"click\", () => {\n  clearInterval(displayIntervalID);\n  playButton.classList.remove(\"framify-button-hidden\");\n  pauseButton.classList.add(\"framify-button-hidden\");\n});\n\nnextButton.addEventListener(\"click\", handleNextElement);\npreviousButton.addEventListener(\"click\", handlePreviousElement);\n\ncontainer.addEventListener(\n  \"mouseover\",\n  () => (buttonsWrapper.style.opacity = 1)\n);\n\ncontainer.addEventListener(\n  \"mouseout\",\n  () => (buttonsWrapper.style.opacity = 0)\n);\n\n/* Event Handlers */\n\nlet currentElementIndex = 0;\n\nfunction handleNextElement() {\n  scrollElement(elementsWrapper, scrollSpeed, width);\n  setTimeout(() => {\n    elementsWrapper.appendChild(elements[currentElementIndex]);\n    currentElementIndex = (currentElementIndex + 1) % elementCount;\n    elementsWrapper.scrollLeft -= width;\n  }, width);\n}\n\nfunction handlePreviousElement() {\n  currentElementIndex = mod(currentElementIndex - 1, elementCount);\n  elementsWrapper.insertBefore(\n    elements[currentElementIndex],\n    elementsWrapper.firstChild\n  );\n  elementsWrapper.scrollLeft += width;\n  scrollElement(elementsWrapper, -scrollSpeed, width);\n}\n\nfunction scrollElement(elementToScroll, scrollVelocity, scrollMagnitude) {\n  let scrolled = 0;\n  const intervalID = window.setInterval(function() {\n    elementToScroll.scrollLeft += scrollVelocity;\n    scrolled += Math.abs(scrollVelocity);\n    if (scrolled >= scrollMagnitude) {\n      window.clearInterval(intervalID);\n    }\n  }, 10);\n}\n\n/* Helper Functions */\n\n/**\n * Computes x mod n\n * x arbitrary integer\n * n natural number\n * Source: https://maurobringolf.ch/2017/12/a-neat-trick-to-compute-modulo-of-negative-numbers/\n */\nconst mod = (x, n) => ((x % n) + n) % n;\n\nfunction getElementWidth(element) {\n  return element.clientWidth;\n}\n\nfunction setScrollSpeed(width) {\n  return width > 700 ? 20 : 10;\n}\n"]}