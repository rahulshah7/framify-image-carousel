{"version":3,"sources":["script.js"],"names":["displayIntervalID","container","document","querySelector","buttonsWrapper","playButton","pauseButton","nextButton","previousButton","elementsWrapper","elements","querySelectorAll","width","getElementWidth","scrollSpeed","setScrollSpeed","displayInterval","parseInt","getAttribute","elementCount","length","window","onload","hasAttribute","setTimeout","click","addEventListener","scrollLeft","setInterval","handleNextElement","classList","add","remove","clearInterval","handlePreviousElement","style","opacity","currentElementIndex","scrollElement","appendChild","mod","insertBefore","firstChild","elementToScroll","scrollVelocity","scrollMagnitude","scrolled","intervalID","Math","abs","x","n","element","clientWidth"],"mappings":";AAAA,IA4BIA,EA5BEC,EAAYC,SAASC,cAAc,sBACnCC,EAAiBF,SAASC,cAAc,4BACxCE,EAAaH,SAASC,cAAc,wBACpCG,EAAcJ,SAASC,cAAc,yBACrCI,EAAaL,SAASC,cAAc,wBACpCK,EAAiBN,SAASC,cAAc,4BACxCM,EAAkBP,SAASC,cAAc,6BACzCO,EAAWR,SAASS,iBAAiB,oBAEvCC,EAAQC,EAAgBZ,GACxBa,EAAcC,EAAeH,GAC3BI,EAAkBC,SAAShB,EAAUiB,aAAa,kBAClDC,EAAeT,EAASU,OAE9BC,OAAOC,OAAS,WACVrB,EAAUsB,aAAa,kBACzBC,WAAW,WAAMnB,OAAAA,EAAWoB,SAAST,IAMzCK,OAAOK,iBAAiB,SAAU,WAEhCX,EADAH,EAAQC,EAAgBZ,IAExBQ,EAAgBkB,WAAa,IAI/BtB,EAAWqB,iBAAiB,QAAS,WACnC1B,EAAoB4B,YAAYC,EAAmBb,GACnDX,EAAWyB,UAAUC,IAAI,yBACzBzB,EAAYwB,UAAUE,OAAO,2BAG/B1B,EAAYoB,iBAAiB,QAAS,WACpCO,cAAcjC,GACdK,EAAWyB,UAAUE,OAAO,yBAC5B1B,EAAYwB,UAAUC,IAAI,2BAG5BxB,EAAWmB,iBAAiB,QAASG,GACrCrB,EAAekB,iBAAiB,QAASQ,GAEzCjC,EAAUyB,iBACR,YACA,WAAOtB,OAAAA,EAAe+B,MAAMC,QAAU,IAGxCnC,EAAUyB,iBACR,WACA,WAAOtB,OAAAA,EAAe+B,MAAMC,QAAU,IAKxC,IAAIC,EAAsB,EAE1B,SAASR,IACPS,EAAc7B,EAAiBK,EAAaF,GAC5CY,WAAW,WACTf,EAAgB8B,YAAY7B,EAAS2B,IACrCA,GAAuBA,EAAsB,GAAKlB,EAClDV,EAAgBkB,YAAcf,GAC7BA,GAGL,SAASsB,IACPG,EAAsBG,EAAIH,EAAsB,EAAGlB,GACnDV,EAAgBgC,aACd/B,EAAS2B,GACT5B,EAAgBiC,YAElBjC,EAAgBkB,YAAcf,EAC9B0B,EAAc7B,GAAkBK,EAAaF,GAG/C,SAAS0B,EAAcK,EAAiBC,EAAgBC,GAClDC,IAAAA,EAAW,EACTC,EAAa1B,OAAOO,YAAY,WACpCe,EAAgBhB,YAAciB,GAC9BE,GAAYE,KAAKC,IAAIL,KACLC,GACdxB,OAAOY,cAAcc,IAEtB,IAWL,IAAMP,EAAM,SAACU,EAAGC,GAAM,OAAED,EAAIC,EAAKA,GAAKA,GAEtC,SAAStC,EAAgBuC,GAChBA,OAAAA,EAAQC,YAGjB,SAAStC,EAAeH,GACf,OAAA","file":"script.96151ee0.js","sourceRoot":"../src","sourcesContent":["const container = document.querySelector(\".framify-container\");\nconst buttonsWrapper = document.querySelector(\".framify-buttons-wrapper\");\nconst playButton = document.querySelector(\".framify-button-play\");\nconst pauseButton = document.querySelector(\".framify-button-pause\");\nconst nextButton = document.querySelector(\".framify-button-next\");\nconst previousButton = document.querySelector(\".framify-button-previous\");\nconst elementsWrapper = document.querySelector(\".framify-elements-wrapper\");\nconst elements = document.querySelectorAll(\".framify-element\");\n\nlet width = getElementWidth(container);\nlet scrollSpeed = setScrollSpeed(width);\nconst displayInterval = parseInt(container.getAttribute(\"data-interval\"));\nconst elementCount = elements.length;\n\nwindow.onload = function() {\n  if (container.hasAttribute(\"data-playback\")) {\n    setTimeout(() => playButton.click(), displayInterval);\n  }\n};\n\n/* Event Listeners */\n\nwindow.addEventListener(\"resize\", () => {\n  width = getElementWidth(container);\n  setScrollSpeed(width);\n  elementsWrapper.scrollLeft = 0;\n});\n\nlet displayIntervalID;\nplayButton.addEventListener(\"click\", () => {\n  displayIntervalID = setInterval(handleNextElement, displayInterval);\n  playButton.classList.add(\"framify-button-hidden\");\n  pauseButton.classList.remove(\"framify-button-hidden\");\n});\n\npauseButton.addEventListener(\"click\", () => {\n  clearInterval(displayIntervalID);\n  playButton.classList.remove(\"framify-button-hidden\");\n  pauseButton.classList.add(\"framify-button-hidden\");\n});\n\nnextButton.addEventListener(\"click\", handleNextElement);\npreviousButton.addEventListener(\"click\", handlePreviousElement);\n\ncontainer.addEventListener(\n  \"mouseover\",\n  () => (buttonsWrapper.style.opacity = 1)\n);\n\ncontainer.addEventListener(\n  \"mouseout\",\n  () => (buttonsWrapper.style.opacity = 0)\n);\n\n/* Event Handlers */\n\nlet currentElementIndex = 0;\n\nfunction handleNextElement() {\n  scrollElement(elementsWrapper, scrollSpeed, width);\n  setTimeout(() => {\n    elementsWrapper.appendChild(elements[currentElementIndex]);\n    currentElementIndex = (currentElementIndex + 1) % elementCount;\n    elementsWrapper.scrollLeft -= width;\n  }, width);\n}\n\nfunction handlePreviousElement() {\n  currentElementIndex = mod(currentElementIndex - 1, elementCount);\n  elementsWrapper.insertBefore(\n    elements[currentElementIndex],\n    elementsWrapper.firstChild\n  );\n  elementsWrapper.scrollLeft += width;\n  scrollElement(elementsWrapper, -scrollSpeed, width);\n}\n\nfunction scrollElement(elementToScroll, scrollVelocity, scrollMagnitude) {\n  let scrolled = 0;\n  const intervalID = window.setInterval(function() {\n    elementToScroll.scrollLeft += scrollVelocity;\n    scrolled += Math.abs(scrollVelocity);\n    if (scrolled >= scrollMagnitude) {\n      window.clearInterval(intervalID);\n    }\n  }, 10);\n}\n\n/* Helper Functions */\n\n/**\n * Computes x mod n\n * x arbitrary integer\n * n natural number\n * Source: https://maurobringolf.ch/2017/12/a-neat-trick-to-compute-modulo-of-negative-numbers/\n */\nconst mod = (x, n) => ((x % n) + n) % n;\n\nfunction getElementWidth(element) {\n  return element.clientWidth;\n}\n\nfunction setScrollSpeed(width) {\n  return 20;\n}\n"]}